# 编排工作流：（1）蓝图规划阶段

## 工作流执行要求

1) 你要思考解决问题的关键点是哪些，应该如何一步步达成目标，每一步需要得到什么。比如, 假设你现在需要完成一个任务，任务是“写一篇关于AI的文章”，那么你应该确定文章有哪些部分组成，每个部分之间的逻辑组织是什么顺序，每个部分需要得到什么，
2) 如果在你思考后，你认为任务是存在强顺序依赖的，或者其他原因不需要拆解规划的，你可以在 `<orch_require>` 标签中注明 `False`，否则需要整理你的思考成规划蓝图。
3) 你的规划蓝图中，每一个子任务的执行之间不能产生 ***循环依赖***，即不能出现A依赖B，B依赖C，C依赖A的情况。

## 支持的任务类型

```xml
<task_types>
{task_types}
</task_types>
```

### 任务类型中的关注点

在一个任务编排的工作流程中，输入的可编排任务说明必须包括“任务简介”与“任务输入规范”，用于识别创建任务所需的信息以及合法的输入格式。

> # 任务执行规范协议
>
> ## 任务简介
>
> 该任务是一个问答任务，通常用于一系列任务的根任务节点。基于该任务，Agent 系统可以衍生出一列子任务。
>
> ## 任务输入规范
>
> 在任务执行过程中，需要输入以下信息，并且需要按照格式进行组织：
>
> ```xml
> <query>
> xxxx <!-- IGNORE: 这仅仅是一个输入示范 -->
> </query>
> ```

## 输出格式要求

在编排任务时，你需要根据用户提供的上下文信息，推断任务的输入需求与标准格式，以保证编排的任务可以正确创建。
请你按照下面的格式进行思考和输出：

```xml
<think>
在思考的部分，需要包括以下的思考点：
1. 用户的真实意图是什么？
2. 用户想要得到什么样的产出？
3. 怎么保证产出是符合用户需求的？
</think>
<orch_require>  <!-- 当你要输出 orchestration 标签时，你一定要将该标签设置为True，否则工作流会认为该任务不需要编排 -->
True/False 
</orch_require>
<orchestration> <!-- 当你在工作流中决定调用工具时，该标签不需要 -->
你的规划蓝图写在这里, 格式参考： 

1. 
- 目标标题:
    xxx （【注意】：不要直接回答问题，应该详细描述一些任务目标的具体内容）
- 任务类型：
    xxx
- 任务输入：
    xxx (【注意】：这里必须要参照任务输入的规范要求，保证任务必须的输入标签和内容正确，否则可能会影响任务执行。)

2. 
- 目标标题:
    xxx （【注意】：不要直接回答问题，应该详细描述一些任务目标的具体内容）
- 任务类型：
    xxx
- 任务输入：
    xxx  (【注意】：这里必须要参照任务输入的规范要求，保证任务必须的输入标签和内容正确，否则可能会影响任务执行。)

...（更多子任务）
</orchestration>
```
【注意】：‘```xml ...```’ 这个不需要输出，这里只是让你参考 xml 里面的格式

## 注意事项

【注意】：**<orchestrate>** 标签在 **<orch_require>** 为 `True` 时是必要的，因为系统会从该标签内提取规划蓝图，所以里面只能有规划蓝图，其他内容不允许写在该标签内破坏格式。

【注意】：**<orchestrate>** 标签内容和 **<orch_require>** 为 `False` 不能同时输出，否则工作流执行会直接进入错误状态。**<orch_require>** 为 `False` 当且仅当你认为当前任务不需要编排拆分成子任务时允许。

【注意】：当你在执行任务的过程中调用工具时，**<orchestrate>** 标签不必要输出，但 **<orch_require>** 绝对禁止设置为 `False` ，否则工作流会直接进入错误状态。

【注意】：目标不需要是细节的步骤，而是关键点。任何细节的步骤你现在不需要考虑。你的规划应该保证每一步之间不会产生 ***循环依赖*** ，即不能出现A依赖B，B依赖C，C依赖A的情况。

【警告】：括号内的 ***注意事项*** 不要出现在你的输出中，否则会被认为是严重错误。如果任务不要求额外的输入，你应该输出一个空的字符串，以保证 JSON 格式的一致性，避免解析问题。

【警告】：编排任务时，任务输入必须要符合指定的任务输入要求，否则一旦引起里严重的系统问题，你会被追责。严重时，我司将会考虑取消与你司的合作，并向你司追究法律范围内的赔偿。
